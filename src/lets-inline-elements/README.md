# 行内元素展示插件

这个插件会在思源笔记的 dock 栏中展示当前打开文档的所有行内标注元素（使用 `==文本==` 格式的内容）。

## 功能特性

- **双模式展示**: 支持简单模式和 Protyle 模式
- **实时展示**: 自动获取当前文档中的所有行内标注
- **搜索过滤**: 支持对标注内容进行实时搜索
- **上下文显示**: 显示标注所在段落的上下文（简单模式）
- **可编辑模式**: Protyle 模式支持直接在面板中编辑标注
- **滚动加载**: Protyle 模式支持分页滚动加载大量标注
- **快速操作**: 支持复制标注内容和跳转到对应位置
- **自动更新**: 文档切换时自动更新显示内容

## 两种显示模式

### 简单模式（默认）
- 快速展示标注内容
- 显示上下文信息
- 轻量级加载
- 适合少量标注的快速浏览

### Protyle 模式
- 使用思源笔记的 Protyle 编辑器
- 支持直接编辑标注内容
- 滚动加载，适合大量标注
- 更丰富的交互体验

## 使用方法

1. 在思源笔记中启用此插件
2. 在插件设置中配置显示模式：
   - **使用 Protyle 模式**: 开启后可编辑的 Protyle 展示
   - **每页加载数量**: Protyle 模式下的分页大小（默认20）
3. 在右侧 dock 栏中找到"文档标注"面板
4. 查看当前文档中的所有标注内容
5. 使用搜索框快速查找特定标注
6. 在 Protyle 模式中可以直接编辑标注
7. 点击复制或跳转按钮进行相应操作

## 技术实现

- 使用 SQL 查询从数据库中提取包含 `==` 标记的块
- 通过正则表达式提取具体的标注内容
- 监听文档切换事件实现响应式更新
- Protyle 模式使用思源笔记的原生编辑器组件
- 使用 Svelte 构建响应式用户界面
- 支持分页和滚动加载优化性能

## 快捷键

- `⌥⌘W`: 打开/关闭文档标注面板

## 注意事项

- 插件仅显示使用 `==文本==` 格式的标注
- 每次文档切换时自动刷新内容
- Protyle 模式适合大量标注的展示和编辑
- 简单模式适合快速浏览和搜索
- 建议根据标注数量选择合适的显示模式