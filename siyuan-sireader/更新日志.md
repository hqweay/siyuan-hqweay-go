# 思阅 SiReader - 更新日志
---

## 🚀 开发中

### 📦 v0.2.7 (2025.11.29)
#### ✨ 新增功能
- **📚 自定义书源** - 支持通过思源代码片段配置自定义书源，极限精简设计
- **🔍 书源搜索** - 支持多书源并发搜索，智能聚合结果
- **📖 在线阅读** - 支持在线阅读网络小说，章节导航流畅
- **💾 EPUB导出** - 支持将在线小说导出为标准EPUB格式
#### 🛠️ 功能优化
- **⚡ 极限精简** - 借鉴mplayer设计，通过window对象读取配置，零延迟
- **🎯 调试增强** - 添加详细的控制台日志，便于排查问题
- **📋 书源管理** - 11个测试书源（古登堡、追书、SF轻小说、起点等）
- **🔧 规则引擎** - 支持CSS选择器、XPath、JSONPath、正则表达式
#### 📖 文档完善
- **📚 调试指南** - 完整的调试步骤和常见问题解决方案（DEBUG-BOOKSOURCE.md）
- **💡 示例配置** - 提供11个测试书源示例（docs/siyuan-book-sources.js）

---

### 📦 v0.3.0 (2025.11.29)
#### ✨ 新增功能
- **🎯 目录钉住** - 目录面板支持钉住功能，钉住后自动调整阅读区域宽度，避免内容遮挡
- **📍 目录位置切换** - 支持左侧/右侧目录位置实时切换，设置后立即生效无需刷新
- **📄 单页双页显示** - 优化显示模式，支持单页/双页视图切换，阅读体验更灵活
- **⚙️ 文档绑定设置** - 目录面板新增设置功能，可为当前书籍重新绑定思源笔记文档
- **🔍 智能文档搜索** - 设置界面支持文档搜索选择，输入关键词快速定位目标文档
- **🔤 文本自定义设置** - 新增字体选择(默认/衬线/无衬线/微软雅黑/宋体/楷体)*、字号调节(12-32px)、字距控制  
  *注：字体效果可能不生效
- **📏 段落排版设置** - 支持行距调节(1.0-3.0倍)、段落间距设置(0-2em)、首行缩进控制(0-2em)
- **📋 页面布局设置** - 可调节左右边距(0-100px)、上下边距(0-80px)、连续滚动开关、一键恢复默认

#### 🛠️ 架构重构
- **📋 设置面板重构** - 重新设计设置界面，划分为界面、外观、标注三大模块
- **⚡ 响应式更新机制** - 统一所有设置项的响应式更新逻辑，修改设置立即生效
- **🎨 样式应用优化** - 修复翻页后主题样式回退问题，确保样式持久应用

#### 🐛 问题修复
- **✅ 修复** - 翻页后主题回到旧样式的缓存问题
- **✅ 修复** - 设置更新不能及时响应的问题  
- **✅ 修复** - 目录钉住后内容区域布局错位问题
- **✅ 移除** - 已废弃的翻页方式设置，简化用户界面

### 📦 v0.2.6 (2025.11.27)
#### ✨ 新增功能
- **💡 笔记功能** - 支持为书籍内容添加详细笔记，记录阅读心得
- **✏️ 编辑功能** - 可编辑已有的笔记和标注内容，支持实时修改
- **🎯 智能标注** - 支持7种颜色标注（红🔴橙🟠黄🟡绿🟢粉🩷蓝🔵紫🟣），一键切换
- **📝 笔记管理** - 统一的笔记输入框，支持数字输入、删除和外部点击关闭
#### 🛠️ 功能优化
- **⚙️ 设置保存逻辑** - 修复Vue响应式对象序列化问题，确保配置正确保存
- **📋 文档选择优化** - 搜索结果为单个时自动选择并保存，提升使用体验
- **🎨 UI组件统一** - 颜色选择器和笔记输入框使用统一的创建逻辑
- **🚀 性能提升** - 缓存机制优化，减少重复查询，提升响应速度
#### 🐛 问题修复
- **✅ 修复** - 标注颜色修改不生效的问题
- **✅ 修复** - 设置保存后重新打开丢失的问题
- **✅ 修复** - 文档选择结果唯一时无法触发保存的问题

